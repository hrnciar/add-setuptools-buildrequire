# Generated by go2rpm 1.3
%ifnarch s390x
%bcond_without check
%endif

# https://gitea.com/lunny/nodb
%global goipath         gitea.com/lunny/nodb
%global commit          3238c4655727d0161997ed6d9aa2861796a4100f
%global repo            nodb
%global archivename     %{repo}-%{commit}
%global archiveext      tar.gz
%global archiveurl      %{forgeurl}/archive/%{commit}.%{archiveext}
%global topdir          %{repo}
%global extractdir      %{repo}
%global scm             git

%gometa

%global common_description %{expand:
Nodb is a fork of ledisdb and shrink version. It's get rid of all C or other
language codes and only keep Go's. It aims to provide a nosql database library
rather than a redis like server. So if you want a redis like server, ledisdb is
the best choose.

Nodb is a pure Go and high performance NoSQL database library. It supports some
data structure like kv, list, hash, zset, bitmap, set.

Nodb now use goleveldb as backend to store data.}

%global golicenses      LICENSE
%global godocs          README.md README_CN.md

Name:           %{goname}
Version:        0
Release:        0.2%{?dist}
Summary:        Pure Go embed Nosql database with kv, list, hash, zset, bitmap, set.

License:        MIT
URL:            %{gourl}
Source0:        %{gosource}

BuildRequires:  golang(gitea.com/lunny/log)
BuildRequires:  golang(github.com/pelletier/go-toml)
BuildRequires:  golang(github.com/siddontang/go-snappy/snappy)
BuildRequires:  golang(github.com/syndtr/goleveldb/leveldb)
BuildRequires:  golang(github.com/syndtr/goleveldb/leveldb/cache)
BuildRequires:  golang(github.com/syndtr/goleveldb/leveldb/filter)
BuildRequires:  golang(github.com/syndtr/goleveldb/leveldb/iterator)
BuildRequires:  golang(github.com/syndtr/goleveldb/leveldb/opt)
BuildRequires:  golang(github.com/syndtr/goleveldb/leveldb/storage)

%description
%{common_description}

%gopkg

%prep
%goprep

%install
%gopkginstall

%if %{with check}
%check
%gocheck -d config
%endif

%gopkgfiles

%changelog
* Tue Jan 26 2021 Fedora Release Engineering <releng@fedoraproject.org> - 0-0.2
- Rebuilt for https://fedoraproject.org/wiki/Fedora_34_Mass_Rebuild

* Sun Jan 10 12:43:18 CET 2021 Robert-Andr√© Mauchin <zebob.m@gmail.com> - 0-0.1.20210110git3238c46
- Initial package
